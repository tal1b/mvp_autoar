{% extends "base.html" %}

{% block title %}Dashboard - Employee Management System{% endblock %}

{% block content %}
<div class="page-header">
    <h2>ğŸ  Dashboard</h2>
</div>

<div class="stats-grid">
    <div class="stat-card">
        <h3>Total Employees</h3>
        <p class="stat-number">{{ stats.total_employees }}</p>
    </div>
    
    <div class="stat-card">
        <h3>Total Tasks</h3>
        <p class="stat-number">{{ stats.total_tasks }}</p>
    </div>
    
    <div class="stat-card">
        <h3>Salaries (Current Month)</h3>
        <p class="stat-number">${{ "%.2f"|format(stats.total_salaries) }}</p>
    </div>
</div>

<div class="stats-section">
    <div class="stat-box">
        <h3>Tasks by Status</h3>
        <div class="stat-list">
            <div class="stat-item">
                <span>Not Started:</span>
                <strong>{{ stats.tasks_by_status.get('not_started', 0) }}</strong>
            </div>
            <div class="stat-item">
                <span>In Progress:</span>
                <strong>{{ stats.tasks_by_status.get('in_progress', 0) }}</strong>
            </div>
            <div class="stat-item">
                <span>Completed:</span>
                <strong>{{ stats.tasks_by_status.get('completed', 0) }}</strong>
            </div>
        </div>
    </div>
    
    <div class="stat-box">
        <h3>Employees by Department</h3>
        <div class="stat-list">
            {% if stats.employees_by_department %}
                {% for dept, count in stats.employees_by_department.items() %}
                <div class="stat-item">
                    <span>{{ dept }}:</span>
                    <strong>{{ count }}</strong>
                </div>
                {% endfor %}
            {% else %}
                <p>No data</p>
            {% endif %}
        </div>
    </div>
</div>

<div class="quick-actions">
    <h3>Quick Actions</h3>
    <div class="action-buttons">
        <a href="{{ url_for('add_task') }}" class="btn btn-primary">Create Task</a>
        <a href="{{ url_for('add_salary') }}" class="btn btn-primary">Add Salary</a>
        <a href="{{ url_for('add_shift') }}" class="btn btn-primary">Add Shift</a>
    </div>
</div>
{% endblock %}
